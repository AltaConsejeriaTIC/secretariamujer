<ion-header mode="ios">
  <ion-navbar hideBackButton>
    <button start ion-button icon-only menuToggle (click)="goBackPage()">
      <ion-icon name="icon-fill-back-arrow"></ion-icon>
    </button>
    <label class="header-title">Configuración</label>
    <button end ion-button icon-only menuToggle (click)="goToMenuPage()">
      <ion-icon name="icon-go-menu"></ion-icon>
    </button>
  </ion-navbar>
  <div class="header-separator"></div>
</ion-header>

<ion-content no-bounce>
  <ion-grid no-padding>
    <div [class] = keyboardStyle >
      <div class="settings-items-container ">
          <ion-row class="user-name-data">
            <ion-col width-20 class="icon-container justify-center-row center-vertically">
              <ion-icon name="icon-girl"></ion-icon>
            </ion-col>
            <ion-col width-80 class="data-container">
              <div class="data-container-labels">
                <ion-label class="name-info">
                  {{nameInfo}}
                </ion-label>
                <ion-label class="username-info">
                  {{usernameInfo}}
                </ion-label>
              </div>
            </ion-col>
          </ion-row>
          <div>
            <ion-row class="settings-item">
              <button ion-button icon-only mode="ios" (click)="toggleisShowingOptions(0)">
                <ion-col width-80 class="text-container center-vertically">
                  <ion-label>
                    Contactos
                  </ion-label>
                </ion-col>
                <ion-col width-20 class="icon-container center-vertically justify-horizontally-right">
                  <ion-icon [name]="arrowIconArray[0]"></ion-icon>
                </ion-col>
              </button>
            </ion-row>

            <ion-row class="contact-settings" *ngIf="isOptionVisible[0]">
              <page-contact-selection></page-contact-selection>
            </ion-row>
          </div>
          <div>
            <ion-row class="settings-item">
              <button ion-button icon-only mode="ios" (click)="toggleisShowingOptions(1)">
                <ion-col width-80 class="text-container center-vertically">
                  <ion-label>
                    Cambiar PIN
                  </ion-label>
                </ion-col>
                <ion-col width-20 class="icon-container center-vertically justify-horizontally-right">
                  <ion-icon [name]="arrowIconArray[1]"></ion-icon>
                </ion-col>
              </button>
            </ion-row>

            <div class="pin-change-settings" *ngIf="isOptionVisible[1]">
              <ion-label text-center class="instruction-text">
                {{instructionText}}
              </ion-label>
              <ion-input mode="md" text-center class="pin-input" type="tel" placeholder="****" maxlength="4" [(ngModel)]="inputPin" (input)='changePin()'></ion-input>
            </div>
          </div>
          <div>
            <ion-row class="settings-item">
              <button ion-button icon-only mode="ios" (click)="toggleisShowingOptions(2)">
                <ion-col width-80 class="text-container center-vertically">
                  <ion-label>
                    Perfil
                  </ion-label>
                </ion-col>
                <ion-col width-20 class="icon-container center-vertically justify-horizontally-right">
                  <ion-icon [name]="arrowIconArray[2]"></ion-icon>
                </ion-col>
              </button>
            </ion-row>

            <ion-row class="profile-settings" *ngIf="isOptionVisible[2]">
              <ion-col>
                <form [formGroup]="form" novalidate>
                <ion-row>
                  <ion-input mode="md" maxlength="30" class="profile-input" type="text" placeholder="Tu nombre y apellido" formControlName="fullName">
                  </ion-input>
                </ion-row>
                <ion-row>
                  <ion-input mode="md" maxlength="30" class="profile-input" type="email" placeholder="Tu correo electrónico" formControlName="email">
                  </ion-input>
                </ion-row>
                <ion-row>
                  <ion-input mode="md" maxlength="30" class="profile-input" type="tel" placeholder="Tu teléfono móvil" formControlName="cellPhone">
                  </ion-input>
                </ion-row>
                </form>
                <ion-row class="save-button-container">
                  <button ion-button icon-only mode="ios" class="save-button" (click)="updateUserData()">
                    <ion-col>
                      <ion-icon name="icon-save"></ion-icon>
                      <ion-label>Guardar</ion-label>
                    </ion-col>
                  </button>
                </ion-row>
              </ion-col>
            </ion-row>
          </div>
          <div>
            <ion-row class="settings-item" >
              <button ion-button icon-only mode="ios" (click)="logout()">
                <ion-col class="text-container center-vertically">
                  <ion-label>
                    Cerrar sesión
                  </ion-label>
                </ion-col>
              </button>
            </ion-row>
          </div>
      </div>
    </div>
  </ion-grid>
</ion-content>


